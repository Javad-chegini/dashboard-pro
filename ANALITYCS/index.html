<!DOCTYPE html><html lang="fa" dir="rtl"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>آمار و گزارش - پنل مدیریت</title><link rel="shortcut icon" href="../svg/admin-svgrepo-com.svg" type="image/pannel-icon"><link href="../css/bootstrap.min.css" rel="stylesheet"><link rel="stylesheet" href="../css/fontawesome/css/all.min.css"><link rel="stylesheet" href="../style.css"><link rel="stylesheet" href="css/style.css"><link rel="stylesheet" href="css/filter.css"><link rel="stylesheet" href="css/stat-cart.css"><link rel="stylesheet" href="css/chart.css"><link rel="stylesheet" href="css/persian-datepicker.min.css"/></head><body><div class="sidebar offcanvas offcanvas-end custom-animate" tabindex="-1" id="offcanvasSidebar" aria-labelledby="offcanvasSidebarLabel"><div class="offcanvas-header"><div class="logo w-100"><h3 id="offcanvasSidebarLabel"><img src="../svg/speed-svgrepo-com.svg" alt=""> پنل مدیریت</h3></div></div><div class="offcanvas-body p-0"><ul class="sidebar-nav"><li><a href="../index.html"><i class="fas fa-home"></i> داشبورد</a></li><li><a href="../USERS/index.html"><i class="fas fa-users"></i> کاربران</a></li><li><a href="../PRODUCT/index.html"><i class="fas fa-box"></i> محصولات</a></li><li><a href="../ORDER/index.html"><i class="fas fa-shopping-cart"></i> سفارشات</a></li><li><a href="#" class="active"><i class="fas fa-chart-bar"></i> آمار و گزارش</a></li><li><a href="../MESSAGES/index.html"><i class="fas fa-envelope"></i> پیام‌ها</a></li><li><a href="../SETTING/index.html"><i class="fas fa-cog"></i> تنظیمات</a></li><li><a href="../PROFILE/index.html"><i class="fas fa-user"></i> پروفایل</a></li></ul></div></div><div class="main-content"><div class="header d-flex justify-content-between align-items-center"><div class="d-flex align-items-center"><button class="btn btn-outline-primary me-3 d-block d-custom-none icon-spacing" id="sidebarToggle" data-bs-toggle="offcanvas" data-bs-target="#offcanvasSidebar"><i class="fas fa-bars"></i></button><h2>آمار و گزارش‌ها</h2></div><div class="header-actions"><button class="btn btn-outline-primary me-2" onclick="exportReport()"><i class="fas fa-download"></i> دانلود گزارش </button><button class="btn btn-primary" onclick="printReport()"><i class="fas fa-print"></i> چاپ </button></div></div><div class="container-fluid"><div class="row mb-4"><div class="col-12"><div class="filter-card"><div class="filter-header"><h5><i class="fas fa-filter"></i> فیلترهای پیشرفته گزارش</h5><button class="btn btn-sm btn-outline-secondary" onclick="resetFilters()"><i class="fas fa-redo"></i> بازنشانی </button></div><div class="row g-3"><div class="col-md-5"><label class="form-label fw-bold">بازه زمانی</label><div class="input-group"><input type="text" class="form-control persian-datepicker" id="fromDate" placeholder="از تاریخ"><span class="input-group-text">تا</span><input type="text" class="form-control persian-datepicker" id="toDate" placeholder="تا تاریخ"></div><div class="mt-2 d-flex gap-2 quick-dates"><button class="btn btn-sm btn-outline-secondary" onclick="setQuickDate('today')">امروز</button><button class="btn btn-sm btn-outline-secondary" onclick="setQuickDate('week')">هفته جاری</button><button class="btn btn-sm btn-outline-secondary" onclick="setQuickDate('month')">ماه جاری</button><button class="btn btn-sm btn-outline-secondary" onclick="setQuickDate('year')">سال جاری</button></div></div><div class="col-md-3"><label class="form-label fw-bold">نوع گزارش</label><select class="form-select text-end" id="reportType"><option value="all">همه موارد</option><option value="sales">گزارش فروش</option><option value="users">گزارش کاربران</option><option value="products">گزارش محصولات</option><option value="orders">گزارش سفارشات</option><option value="financial">گزارش مالی</option></select><div class="mt-2"><select class="form-select form-select-sm text-end" id="reportSubType"><option value="">زیرمجموعه (اختیاری)</option></select></div></div><div class="col-md-2"><label class="form-label fw-bold">وضعیت</label><select class="form-select text-end" id="statusFilter"><option value="all">همه</option><option value="active">فعال</option><option value="completed">تکمیل شده</option><option value="pending">در انتظار</option><option value="cancelled">لغو شده</option></select><div class="mt-2"><div class="form-check"><input class="form-check-input" type="checkbox" id="compareMode"><label class="form-check-label" for="compareMode"> مقایسه با دوره قبل </label></div></div></div><div class="col-md-2"><label class="form-label">&nbsp;</label><button class="btn btn-primary w-100" onclick="applyFilters()"><i class="fas fa-search"></i> اعمال فیلتر </button><button class="btn btn-outline-secondary w-100 mt-2" onclick="toggleAdvancedFilters()"><i class="fas fa-cog"></i> فیلترهای بیشتر </button></div></div><div class="advanced-filters mt-3" id="advancedFilters" style="display: none;"><div class="row g-3"><div class="col-md-3"><label class="form-label">محدوده قیمت</label><div class="input-group"><input type="number" class="form-control text-end" placeholder="از" id="priceFrom"><span class="input-group-text">تا</span><input type="number" class="form-control text-end" placeholder="تا" id="priceTo"></div></div><div class="col-md-3"><label class="form-label">دسته‌بندی</label><select class="form-select text-end" id="categoryFilter" multiple><option value="electronics">الکترونیک</option><option value="clothing">پوشاک</option><option value="food">غذایی</option><option value="home">خانه و آشپزخانه</option><option value="beauty">زیبایی و سلامت</option></select></div><div class="col-md-3"><label class="form-label">شهر/استان</label><select class="form-select text-end" id="locationFilter"><option value="">همه شهرها</option><option value="tehran">تهران</option><option value="isfahan">اصفهان</option><option value="shiraz">شیراز</option><option value="mashhad">مشهد</option><option value="tabriz">تبریز</option></select></div><div class="col-md-3"><label class="form-label">برچسب‌ها</label><input type="text" class="form-control" placeholder="جستجوی برچسب..." id="tagSearch"></div></div></div><div class="active-filters mt-3" id="activeFilters" style="display: none;"><div class="d-flex align-items-center gap-2 flex-wrap"><span class="text-muted">فیلترهای فعال:</span></div></div></div></div></div><div class="row mb-4"><div class="col-lg-8 mb-4"><div class="chart-card"><div class="chart-header"><h5><i class="fas fa-chart-area"></i> نمودار فروش و درآمد</h5><div class="chart-actions"><button class="btn btn-sm btn-outline-primary active" onclick="changeChartType('revenue', 'line')"><i class="fas fa-chart-line"></i> خطی </button><button class="btn btn-sm btn-outline-primary" onclick="changeChartType('revenue', 'bar')"><i class="fas fa-chart-bar"></i> میله‌ای </button><button class="btn btn-sm btn-outline-primary" onclick="changeChartType('revenue', 'area')"><i class="fas fa-chart-area"></i> ناحیه‌ای </button></div></div><div class="chart-body"><canvas id="revenueChart" width="400" height="200"></canvas></div></div></div><div class="col-lg-4 mb-4"><div class="chart-card"><div class="chart-header"><h5><i class="fas fa-chart-pie"></i> توزیع فروش محصولات</h5><div class="dropdown"><button class="btn btn-sm btn-light dropdown-toggle" type="button" data-bs-toggle="dropdown"><i class="fas fa-ellipsis-v"></i></button><ul class="dropdown-menu dropdown-menu-end"><li><a class="dropdown-item" href="#" onclick="updateProductChart('today')">امروز</a></li><li><a class="dropdown-item" href="#" onclick="updateProductChart('week')">این هفته</a></li><li><a class="dropdown-item" href="#" onclick="updateProductChart('month')">این ماه</a></li></ul></div></div><div class="chart-body"><canvas id="productDistributionChart" width="200" height="200"></canvas><div class="chart-legend mt-3" id="productLegend"></div></div></div></div></div><div class="row mb-4"><div class="col-lg-6 mb-4"><div class="chart-card"><div class="chart-header"><h5><img src="../svg/chart-bar-svgrepo-com.svg" alt="آیکون-نمودار"> مقایسه فروش ماهانه</h5><span class="badge bg-info">سال جاری vs سال قبل</span></div><div class="chart-body"><canvas id="comparisonChart"></canvas></div></div></div><div class="col-lg-6 mb-4"><div class="chart-card"><div class="chart-header"><h5><i class="fas fa-chart-line"></i> روند بازدید و تبدیل</h5></div><div class="chart-body"><canvas id="trendChart"></canvas></div></div></div></div><div class="row mb-4"><div class="col-lg-6 mb-4"><div class="table-card"><h5 class="mb-3"><img src="../svg/fire-svgrepo-com.svg" alt="آیکون-آتش" class="icon-spacing"> پرفروش‌ترین محصولات</h5><div class="table-responsive"><table class="table table-hover"><thead><tr><th>رتبه</th><th>نام محصول</th><th>دسته‌بندی</th><th>تعداد فروش</th><th>درآمد</th><th>روند</th></tr></thead><tbody><tr><td><span class="badge bg-gold">1</span></td><td>گوشی سامسونگ A54</td><td>موبایل</td><td>234</td><td>1,638,000,000 ت</td><td><span class="trend-up">+12%</span></td></tr><tr><td><span class="badge bg-silver">2</span></td><td>لپ تاپ ASUS X515</td><td>لپ تاپ</td><td>156</td><td>2,340,000,000 ت</td><td><span class="trend-up">+8%</span></td></tr><tr><td><span class="badge bg-bronze">3</span></td><td>ایرپاد پرو 2</td><td>لوازم جانبی</td><td>312</td><td>436,800,000 ت</td><td><span class="trend-down">-2%</span></td></tr><tr><td>4</td><td>تبلت سامسونگ Tab A8</td><td>تبلت</td><td>89</td><td>534,000,000 ت</td><td><span class="trend-up">+5%</span></td></tr><tr><td>5</td><td>ساعت هوشمند Mi Band 7</td><td>گجت</td><td>445</td><td>445,000,000 ت</td><td><span class="trend-up">+15%</span></td></tr></tbody></table></div></div></div><div class="col-lg-6 mb-4"><div class="table-card"><h5 class="mb-3"><img src="../svg/king-illustration-2-svgrepo-com.svg" alt="آیکون-پادشاه" class="icon-spacing"> بهترین مشتریان</h5><div class="table-responsive"><table class="table table-hover"><thead><tr><th>رتبه</th><th>نام مشتری</th><th>تعداد خرید</th><th>مجموع خرید</th><th>آخرین خرید</th><th>وضعیت</th></tr></thead><tbody><tr><td><span class="badge bg-gold">1</span></td><td>علی محمدی</td><td>47</td><td>125,400,000 ت</td><td>2 روز پیش</td><td><span class="badge bg-success">VIP</span></td></tr><tr><td><span class="badge bg-silver">2</span></td><td>زهرا احمدی</td><td>38</td><td>98,200,000 ت</td><td>5 روز پیش</td><td><span class="badge bg-success">VIP</span></td></tr><tr><td><span class="badge bg-bronze">3</span></td><td>محمد رضایی</td><td>31</td><td>87,600,000 ت</td><td>1 هفته پیش</td><td><span class="badge bg-info">طلایی</span></td></tr><tr><td>4</td><td>فاطمه کریمی</td><td>28</td><td>76,300,000 ت</td><td>3 روز پیش</td><td><span class="badge bg-info">طلایی</span></td></tr><tr><td>5</td><td>حسین نوری</td><td>24</td><td>65,100,000 ت</td><td>2 هفته پیش</td><td><span class="badge bg-secondary">نقره‌ای</span></td></tr></tbody></table></div></div></div></div><div class="row mb-4"><div class="col-lg-6 mb-4"><div class="chart-card"><div class="chart-header"><h5><i class="fas fa-user-plus"></i> روند ثبت نام کاربران</h5><select class="form-select form-select-sm w-auto" onchange="updateUserChart(this.value)"><option value="daily">روزانه</option><option value="weekly">هفتگی</option><option value="monthly" selected>ماهانه</option></select></div><div class="chart-body"><canvas id="userRegistrationChart"></canvas></div></div></div><div class="col-lg-6 mb-4"><div class="chart-card"><div class="chart-header"><h5><i class="fas fa-redo"></i> نرخ بازگشت مشتریان</h5><div class="btn-group btn-group-sm" role="group"><button type="button" class="btn btn-outline-primary active" onclick="updateReturnChart('new')">مشتریان جدید</button><button type="button" class="btn btn-outline-primary" onclick="updateReturnChart('returning')">مشتریان بازگشتی</button></div></div><div class="chart-body"><canvas id="customerReturnChart"></canvas></div></div></div></div><div class="row mb-4"><div class="col-12"><div class="performance-card"><h5 class="mb-4"><i class="fas fa-tachometer-alt"></i> شاخص‌های عملکرد کلیدی (KPI)</h5><div class="row"><div class="col-md-3 mb-3"><div class="kpi-item"><div class="kpi-header"><span>میانگین ارزش سفارش</span><i class="fas fa-info-circle" data-bs-toggle="tooltip" title="میانگین مبلغ هر سفارش"></i></div><div class="kpi-value"><h4>3,450,000</h4><span class="kpi-unit">تومان</span></div><div class="kpi-progress"><div class="progress"><div class="progress-bar bg-success" style="width: 75%"></div></div><small>75% از هدف</small></div></div></div><div class="col-md-3 mb-3"><div class="kpi-item"><div class="kpi-header"><span>نرخ رضایت مشتری</span><i class="fas fa-info-circle" data-bs-toggle="tooltip" title="بر اساس نظرسنجی‌ها"></i></div><div class="kpi-value"><h4>92.3%</h4><span class="kpi-unit">رضایت</span></div><div class="kpi-progress"><div class="progress"><div class="progress-bar bg-info" style="width: 92.3%"></div></div><small>عالی</small></div></div></div><div class="col-md-3 mb-3"><div class="kpi-item"><div class="kpi-header"><span>زمان پاسخگویی</span><i class="fas fa-info-circle" data-bs-toggle="tooltip" title="میانگین زمان پاسخ به تیکت‌ها"></i></div><div class="kpi-value"><h4>2.5</h4><span class="kpi-unit">ساعت</span></div><div class="kpi-progress"><div class="progress"><div class="progress-bar bg-warning" style="width: 60%"></div></div><small>نیاز به بهبود</small></div></div></div><div class="col-md-3 mb-3"><div class="kpi-item"><div class="kpi-header"><span>نرخ لغو سفارش</span><i class="fas fa-info-circle" data-bs-toggle="tooltip" title="درصد سفارشات لغو شده"></i></div><div class="kpi-value"><h4>3.2%</h4><span class="kpi-unit">لغو</span></div><div class="kpi-progress"><div class="progress"><div class="progress-bar bg-danger" style="width: 32%"></div></div><small>قابل قبول</small></div></div></div></div></div></div></div><div class="row"><div class="col-12"><div class="export-section"><h5 class="mb-3"><i class="fas fa-file-export"></i> خروجی گزارش</h5><div class="d-flex gap-3 flex-wrap"><button class="btn btn-outline-danger" onclick="exportPDF()"><i class="fas fa-file-pdf"></i> دانلود PDF </button><button class="btn btn-outline-success" onclick="exportExcel()"><i class="fas fa-file-excel"></i> دانلود Excel </button><button class="btn btn-outline-info" onclick="exportCSV()"><i class="fas fa-file-csv"></i> دانلود CSV </button><button class="btn btn-outline-secondary" onclick="scheduleReport()"><i class="fas fa-calendar-alt"></i> زمان‌بندی گزارش </button></div></div></div></div></div></div><script src="js/jquery-3.6.0.min.js"></script><script src="../js/bootstrap.bundle.min.js"></script><script src="js/persian-date.min.js"></script><script src="js/persian-datepicker.min.js"></script><script src="js/filter.js"></script><script src="js/chart.js"></script><script src="js/chart-section.js"></script><script> // تابع برای مدیریت overlay (اختیاری) function toggleOverlay() { let overlay=document.querySelector('.sidebar-overlay'); if (!overlay) { overlay=document.createElement('div'); overlay.className='sidebar-overlay'; document.body.appendChild(overlay); // بستن sidebar با کلیک روی overlay overlay.addEventListener('click', function() { document.querySelector('.sidebar').classList.remove('show'); this.remove(); }); } else { overlay.remove(); } } document.getElementById('sidebarToggle').addEventListener('click', function() { document.querySelector('.sidebar').classList.toggle('show'); }); document.querySelectorAll('.sidebar-nav a').forEach(link=> { link.addEventListener('click', function() { document.querySelectorAll('.sidebar-nav a').forEach(l=> l.classList.remove('active')); this.classList.add('active'); }); }); document.addEventListener('click', function(event) { const sidebar=document.querySelector('.sidebar'); const sidebarToggle=document.getElementById('sidebarToggle'); // تغییر شرط از 768 به 1200 if (window.innerWidth <=1115 && !sidebar.contains(event.target) && event.target !==sidebarToggle) { sidebar.classList.remove('show'); } }); // Initialize tooltips var tooltipTriggerList=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')) var tooltipList=tooltipTriggerList.map(function (tooltipTriggerEl) { return new bootstrap.Tooltip(tooltipTriggerEl) }); // Persian Date Picker document.querySelectorAll('.persian-datepicker').forEach(function(el) { el.persianDatepicker({ format: 'YYYY/MM/DD', autoClose: true }); }); // نمودار فروش و درآمد const revenueCtx=document.getElementById('revenueChart').getContext('2d'); const revenueChart=new Chart(revenueCtx, { type: 'line', data: { labels: ['فروردین', 'اردیبهشت', 'خرداد', 'تیر', 'مرداد', 'شهریور'], datasets: [{ label: 'درآمد (میلیون تومان)', data: [65, 78, 90, 81, 96, 103], borderColor: 'rgb(0, 102, 204)', backgroundColor: 'rgba(0, 102, 204, 0.1)', tension: 0.4, fill: true }, { label: 'تعداد سفارش', data: [280, 350, 420, 380, 450, 480], borderColor: 'rgb(255, 99, 132)', backgroundColor: 'rgba(255, 99, 132, 0.1)', tension: 0.4, fill: true, yAxisID: 'y1' }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'top', labels: { font: { family: 'Tahoma' } } } }, scales: { y: { type: 'linear', display: true, position: 'right', title: { display: true, text: 'درآمد (میلیون تومان)', font: { family: 'Tahoma' } } }, y1: { type: 'linear', display: true, position: 'left', title: { display: true, text: 'تعداد سفارش', font: { family: 'Tahoma' } }, grid: { drawOnChartArea: false } } } } }); // نمودار توزیع محصولات const productCtx=document.getElementById('productDistributionChart').getContext('2d'); const productChart=new Chart(productCtx, { type: 'doughnut', data: { labels: ['موبایل', 'لپ تاپ', 'تبلت', 'لوازم جانبی', 'سایر'], datasets: [{ data: [35, 25, 15, 20, 5], backgroundColor: [ 'rgba(0, 102, 204, 0.8)', 'rgba(40, 167, 69, 0.8)', 'rgba(255, 193, 7, 0.8)', 'rgba(220, 53, 69, 0.8)', 'rgba(108, 117, 125, 0.8)' ] }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom', labels: { font: { family: 'Tahoma' }, padding: 15 } } } } }); // نمودار ثبت نام کاربران const userCtx=document.getElementById('userRegistrationChart').getContext('2d'); const userChart=new Chart(userCtx, { type: 'bar', data: { labels: ['فروردین', 'اردیبهشت', 'خرداد', 'تیر', 'مرداد', 'شهریور'], datasets: [{ label: 'کاربران جدید', data: [120, 150, 180, 160, 200, 230], backgroundColor: 'rgba(23, 162, 184, 0.8)' }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } } } }); // نمودار نرخ بازگشت const returnCtx=document.getElementById('customerReturnChart').getContext('2d'); const returnChart=new Chart(returnCtx, { type: 'line', data: { labels: ['فروردین', 'اردیبهشت', 'خرداد', 'تیر', 'مرداد', 'شهریور'], datasets: [{ label: 'مشتریان جدید', data: [65, 70, 75, 72, 78, 82], borderColor: 'rgb(40, 167, 69)', backgroundColor: 'rgba(40, 167, 69, 0.1)' }, { label: 'مشتریان بازگشتی', data: [35, 30, 25, 28, 22, 18], borderColor: 'rgb(220, 53, 69)', backgroundColor: 'rgba(220, 53, 69, 0.1)' }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'top', labels: { font: { family: 'Tahoma' } } } } } }); // Mini Charts for stat cards function createMiniChart(canvasId, color, data) { const ctx=document.getElementById(canvasId).getContext('2d'); return new Chart(ctx, { type: 'line', data: { labels: ['', '', '', '', '', '', ''], datasets: [{ data: data, borderColor: color, borderWidth: 2, fill: false, tension: 0.4, pointRadius: 0, pointHoverRadius: 0 }] }, options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false }, tooltip: { enabled: false } }, scales: { x: { display: false }, y: { display: false } } } }); } // Create mini charts createMiniChart('miniRevenueChart', '#28a745', [20, 25, 30, 22, 28, 35, 40]); createMiniChart('miniOrdersChart', '#17a2b8', [10, 15, 12, 18, 20, 16, 22]); createMiniChart('miniCustomersChart', '#dc3545', [30, 28, 25, 22, 20, 18, 15]); createMiniChart('miniConversionChart', '#ffc107', [3, 4, 3.5, 4.2, 4.5, 4.3, 4.8]); // Functions function applyFilters() { // اعمال فیلترها alert('فیلترها اعمال شد'); } function changeChartType(chartName, type) { // تغییر نوع نمودار if (chartName==='revenue') { revenueChart.config.type=type==='area' ? 'line' : type; revenueChart.update(); } } function updateUserChart(period) { // بروزرسانی نمودار کاربران console.log('Period changed to:', period); } function exportPDF() { alert('در حال آماده‌سازی فایل PDF...'); } function exportExcel() { alert('در حال آماده‌سازی فایل Excel...'); } function exportCSV() { alert('در حال آماده‌سازی فایل CSV...'); } function scheduleReport() { alert('پنل زمان‌بندی گزارش باز می‌شود...'); } function exportReport() { alert('انتخاب فرمت دانلود...'); } function printReport() { window.print(); } </script><div class="toast-container position-fixed top-0 start-0 p-3"></div></body></html>