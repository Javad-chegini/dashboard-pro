<div class="modal fade" id="backupModal" tabindex="-1" aria-labelledby="backupModalLabel" aria-hidden="true"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="backupModalLabel"><i class="fas fa-database me-2"></i>پشتیبان‌گیری سیستم </h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"><div class="backup-type-section mb-4"><h6><i class="fas fa-cog me-2 icon-spacing"></i>نوع پشتیبان‌گیری:</h6><div class="btn-group w-100" role="group" aria-label="نوع پشتیبان‌گیری"><input type="radio" class="btn-check" name="backupType" id="fullBackup" value="full" checked><label class="btn btn-outline-success" for="fullBackup"><i class="fas fa-database me-2"></i>کامل </label><input type="radio" class="btn-check" name="backupType" id="dataOnlyBackup" value="data"><label class="btn btn-outline-info" for="dataOnlyBackup"><i class="fas fa-table me-2"></i>فقط دیتا </label><input type="radio" class="btn-check" name="backupType" id="filesOnlyBackup" value="files"><label class="btn btn-outline-warning" for="filesOnlyBackup"><i class="fas fa-folder me-2"></i>فقط فایل‌ها </label></div></div><div class="tables-section mb-4" id="tablesSection"><h6><i class="fas fa-list me-2 icon-spacing"></i>انتخاب جداول:</h6><div class="row"><div class="col-md-6"><div class="form-check"><input class="form-check-input" type="checkbox" value="users" id="table_users" checked><label class="form-check-label" for="table_users"><i class="fas fa-users me-1 icon-spacing"></i> کاربران </label></div><div class="form-check"><input class="form-check-input" type="checkbox" value="products" id="table_products" checked><label class="form-check-label" for="table_products"><i class="fas fa-box me-1 icon-spacing"></i> محصولات </label></div><div class="form-check"><input class="form-check-input" type="checkbox" value="orders" id="table_orders" checked><label class="form-check-label" for="table_orders"><i class="fas fa-shopping-cart me-1 icon-spacing"></i> سفارشات </label></div></div><div class="col-md-6"><div class="form-check"><input class="form-check-input" type="checkbox" value="categories" id="table_categories" checked><label class="form-check-label" for="table_categories"><i class="fas fa-tags me-1 icon-spacing"></i> دسته‌بندی‌ها </label></div><div class="form-check"><input class="form-check-input" type="checkbox" value="messages" id="table_messages" checked><label class="form-check-label" for="table_messages"><i class="fas fa-envelope me-1 icon-spacing"></i> پیام‌ها </label></div><div class="form-check"><input class="form-check-input" type="checkbox" value="settings" id="table_settings" checked><label class="form-check-label" for="table_settings"><i class="fas fa-cog me-1 icon-spacing"></i> تنظیمات </label></div></div></div><div class="mt-3"><button type="button" class="btn btn-outline-secondary btn-sm" onclick="selectAllTables()"><i class="fas fa-check-double me-1"></i> انتخاب همه </button><button type="button" class="btn btn-outline-secondary btn-sm" onclick="deselectAllTables()"><i class="fas fa-times me-1"></i> لغو انتخاب همه </button></div></div><div class="advanced-settings mb-4"><div class="form-check form-switch"><input class="form-check-input" type="checkbox" id="compressBackup" checked><label class="form-check-label" for="compressBackup"><i class="fas fa-compress-alt me-2 icon-spacing"></i>فشرده‌سازی فایل پشتیبان </label></div><div class="form-check form-switch"><input class="form-check-input" type="checkbox" id="encryptBackup"><label class="form-check-label" for="encryptBackup"><i class="fas fa-lock me-2 icon-spacing"></i>رمزگذاری فایل پشتیبان </label></div></div><div class="encryption-password mb-4" id="encryptionPasswordSection" style="display: none;"><label for="encryptionPassword" class="form-label"><i class="fas fa-key me-2"></i>رمز عبور رمزگذاری: </label><input type="password" class="form-control" id="encryptionPassword" placeholder="رمز عبور قوی وارد کنید..."><div class="form-text">رمز عبور باید حداقل 8 کاراکتر باشد</div></div><div class="backup-preview"><h6><i class="fas fa-eye me-2 icon-spacing"></i>پیش‌نمایش:</h6><div class="alert alert-info"><div id="backupPreview"><strong>نوع:</strong> پشتیبان‌گیری کامل<br><strong>جداول:</strong> همه جداول انتخاب شده<br><strong>فشرده‌سازی:</strong> بله<br><strong>رمزگذاری:</strong> خیر </div></div></div><div class="progress-section" id="progressSection" style="display: none;"><div class="progress mb-3"><div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%" id="backupProgressBar">0%</div></div><p class="text-center mb-0" id="progressText">در حال آماده‌سازی...</p></div></div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><i class="fas fa-times me-2"></i>لغو </button><button type="button" class="btn btn-success" onclick="startBackup()" id="startBackupBtn"><i class="fas fa-download me-2"></i>شروع پشتیبان‌گیری </button></div></div></div></div>